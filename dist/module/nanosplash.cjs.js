"use strict";Object.defineProperty(exports,"t",{value:!0}),exports[Symbol.toStringTag]="Module";class t extends Error{constructor(t){super(t)}i(){return this.constructor.name}}class s extends t{constructor(t){super(t)}}const i=(t,s)=>{var i;const e=document.createElement(t);return s&&(e.id||(e.id=s.id+""),e.className||(e.className=s.className+""),null==(i=s.attributes)||i.filter((t=>t.value)).forEach((({key:t,value:s})=>l(e,t,s))),s.content&&("string"==typeof s.content?e.innerText=s.content:e.append(s.content))),e},e=(t,s)=>{t.hidden=!s,s?a(t,"hidden"):l(t,"hidden","true")},n=t=>({to:(s,i)=>{const e=Array.from(s.childNodes);if(e.length<1||!i)return void s.appendChild(t);const n=e[0];s.insertBefore(t,n)}}),h=t=>{const s=t.parentNode;s&&(i=>{const e="px",{pageYOffset:n,pageXOffset:h}=window;let l,a;s===document.body?(l=n+e,a="100vh"):(l=i.y+n+e,a=i.height+e),o(t,"top",l),o(t,"left",i.x+h+e),o(t,"width",i.width+e),o(t,"height",a)})(s.getBoundingClientRect())},o=(t,s,i)=>{t.style[s]=i},l=(t,s,i)=>{t.setAttribute(s,i)},a=(t,s)=>{t.removeAttribute(s)};class r{static h(){const t=i("div",{className:"nanosplash-container",attributes:[{key:"data-splash-animation",value:this.l.o}]});return t.style.backgroundColor=this.l.u,t}static v(){const t=i("img",{className:"nanosplash-img",attributes:[{key:"src",value:this.l.m},{key:"alt",value:"Nanosplash indicator"}]});return e(t,!1),t}static p(){return i("div",{className:"nanosplash-text",content:this.l.T})}}r.l={g:document.body,T:"Loading ...",S:'"Arial", sans-serif',O:"medium",N:"#555",_:"26px",m:"favicon.svg",A:"100px",k:"auto",o:"pulse",u:"rgba(255, 255, 255, 0.90)",H:"light"};class u{constructor(t){this.C=r.l.T,this.I=r.l.g,this.L=r.h(),this.D=r.v(),this.B=r.p(),n(this.D).to(this.L),n(this.B).to(this.L),n(this.L).to(this.I,!0),e(this.L,!1),h(this.L),this.R(),t&&this.configure(t)}install(){var t,s,i;Object.defineProperty(window,"loading",{value:this,writable:!1}),t=window,s=()=>h(this.L),i=["resize","scroll"],(([t,e])=>{i.forEach((i=>{t?t(`on${i}`,s):e(i,s,!0)}))})([t.attachEvent,t.addEventListener])}configure(t){var s,i,n,h,o,l,a,r,c,d,v,m;return(null==(s=null==t?void 0:t.default)?void 0:s.destination)&&(this.I=u.X(t.default.destination)),this.C||(this.C=null==(i=t.default)?void 0:i.text),(null==(n=t.text)?void 0:n.family)&&this.F(t.text.family),(null==(h=t.text)?void 0:h.weight)&&this.W(t.text.weight),(null==(o=t.text)?void 0:o.color)&&this.G(t.text.color),(null==(l=t.text)?void 0:l.size)&&this.M(t.text.size),(null==(a=t.background)?void 0:a.color)&&this.P(t.background.color),(null==(r=t.background)?void 0:r.blur)&&this.U(t.background.blur),t.j?((null==(c=t.j)?void 0:c.src)&&this.K(t.j.src),(null==(d=t.j)?void 0:d.width)&&this.Y(t.j.width),(null==(v=t.j)?void 0:v.height)&&this.Z(t.j.height),(null==(m=t.j)?void 0:m.animation)&&this.$(t.j.animation)):e(this.D,!1),this}show(t,s){this.q(null!=t?t:r.l.T),e(this.L,!0);const i=this.L.parentNode;return i&&i!==document.body&&h(this.L),(null==s?void 0:s.then)&&s.then(this.hide),{inside:t=>{const s=u.X(t);n(this.L).to(s,!0),h(this.L)}}}hide(){e(this.L,!1),this.q(this.C),n(this.L).to(this.I,!0),h(this.L)}R(){this.F(r.l.S),this.W(r.l.O),this.G(r.l.N),this.M(r.l._),this.K(r.l.m),this.Y(r.l.A),this.Z(r.l.k),this.$(r.l.o),this.P(r.l.u),this.U(r.l.H)}q(t){this.B.innerText=t}F(t){o(this.B,"fontFamily",t)}W(t){o(this.B,"fontWeight",t)}G(t){o(this.B,"color",t)}M(t){o(this.B,"fontSize",t)}K(t){this.D.src=t,e(this.D,!0)}Y(t){o(this.D,"width",t)}Z(t){o(this.D,"height",t)}$(t){l(this.L,"data-splash-animation",t)}P(t){o(this.L,"backgroundColor",t)}U(t){l(this.L,"data-blur",t)}static X(t){const i="string"==typeof t,e=(n=t)&&"[object Function]"==={}.toString.call(n);var n;const h=(t=>t instanceof Element||t instanceof Node)(t);let o;if(i)l=t,o=document.querySelector(l);else if(e)o=t();else{if(!h)throw new s;o=t}var l;return o}}exports.Nanosplash=u;
