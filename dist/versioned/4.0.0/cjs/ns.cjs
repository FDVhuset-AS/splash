"use strict";var g=Object.defineProperty;var m=(n,t,e)=>t in n?g(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var c=(n,t,e)=>(m(n,typeof t!="symbol"?t+"":t,e),e);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const l=class l{constructor(){c(this,"id");c(this,"element");this.element=S(),this.element.id=this.id=l.generateGUID()}static generateGUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}getNSContentElement(){return this.getNSElement().firstElementChild}getNSTextElement(){return this.getNSContentElement().firstElementChild}getId(){return this.id}getNSElement(){return this.element}setText(t){return this.getNSTextElement().innerText=t,t.length>0?this.showText():this.hideText(),this}showText(){return w(this.getNSTextElement()),this}hideText(){return E(this.getNSTextElement()),this}remove(){var t;return this.element&&((t=this.element.parentElement)==null||t.removeChild(this.element),delete this.element),this}};c(l,"NSClass","ns"),c(l,"NSHostClass","nsh");let d=l;function S(){return new DOMParser().parseFromString('<div class=ns><div class=nsc><div class=nst></div><div class=nss><svg viewBox="0 0 50 50"><circle class=path cx=25 cy=25 r=20 fill=none></circle></svg></div></div></div>',"text/html").body.firstChild}function N(n,t){t.children.length>0?t.insertBefore(n,t.children.item(0)):t.append(n)}function a(n,t){n==null||n.classList[t](d.NSHostClass)}function v(n){a(n.getNSElement().parentElement,"remove")}function w(n){n.style.display="flex"}function E(n){n.style.display="none"}function h(n){return n instanceof Element?n:document.querySelector(n||"")}function I(n){var t;return((t=n==null?void 0:n.classList)==null?void 0:t.contains(d.NSClass))??!1}function u(n,t){a(n.parentElement,"remove"),a(t,"add"),N(n,t)}function x(n){const t=n.firstElementChild;if(t!==null&&I(t)){const r=t.id;return o.getInstance().nsStack.find(f=>f.getId()===r)??null}return null}const s=class s{constructor(){c(this,"nsStack");this.nsStack=[]}findIndex(t){return this.nsStack.findIndex(t)}find(t){return this.nsStack.find(t)}static getInstance(){return s.instance||(s.instance=new s),s.instance}static assignToWindow(){Object.defineProperty(window,s.WindowAccessorKey,{value:s.getInstance(),writable:!1})}static start(){s.assignToWindow(),window.addEventListener("load",()=>{window[s.WindowAccessorKey]instanceof s||s.assignToWindow()})}createNS(t){const e=new d;return e.setText(t||""),this.nsStack.push(e),e}cleanAndRemove(t){return v(t),t.remove().getId()}stackDelete(t){let e=this.findIndex(i=>i.getId()===t.getId());return e<0?null:(this.nsStack.splice(e,1),t.getId())}deleteNS(t){const e=this.find(t);return e?(this.cleanAndRemove(e),this.stackDelete(e)):null}show(t){let e=x(document.body);return e||(e=this.createNS(),u(e.getNSElement(),document.body)),e.setText(t||"").getId()}showInside(t,e){const i=h(t);if(i){let r=x(i);return r||(r=this.createNS()),u(r.getNSElement(),i),r.setText(e||"").getId()}return null}hide(){const t=this.nsStack.pop();return t?this.cleanAndRemove(t):null}hideAll(){this.nsStack.forEach(t=>{this.cleanAndRemove(t)}),this.nsStack=[]}hideId(t){return this.deleteNS(e=>e.getId()===t)}hideInside(t){const e=h(t),i=r=>r.getNSElement().parentElement===e;return e?this.deleteNS(i):null}};c(s,"WindowAccessorKey","ns"),c(s,"instance");let o=s;exports.Service=o;
