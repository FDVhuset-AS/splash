"use strict";Object.defineProperty(exports,"t",{value:!0}),exports[Symbol.toStringTag]="Module";class t extends Error{constructor(t){super(t)}i(){return this.constructor.name}}class s extends t{constructor(t){super(t)}}const i=(t,s)=>{var i;const e=document.createElement(t);return s&&(e.id||(e.id=s.id+""),e.className||(e.className=s.className+""),null==(i=s.attributes)||i.filter((t=>t.value)).forEach((({key:t,value:s})=>l(e,t,s))),s.content&&("string"==typeof s.content?e.innerText=s.content:e.append(s.content))),e},e=(t,s)=>{t.hidden=!s,s?a(t,"hidden"):l(t,"hidden","true")},n=t=>({to:(s,i)=>{const e=Array.from(s.childNodes);if(e.length<1||!i)return void s.appendChild(t);const n=e[0];s.insertBefore(t,n)}}),h=t=>{const s=t.parentNode;s&&(i=>{s.style.position="relative";const e="px",n=s===document.body;let h,l,a,r;h=n?scrollX+e:"0px",l=n?scrollY+e:"0px",a=n?"100%":i.width+e,r=n?"100vh":i.height+e,o(s,"position","relative"),o(t,"left",h),o(t,"top",l),o(t,"width",a),o(t,"height",r)})(s.getBoundingClientRect())},o=(t,s,i)=>{t.style[s]=i},l=(t,s,i)=>{t.setAttribute(s,i)},a=(t,s)=>{t.removeAttribute(s)};class r{static h(){const t=i("div",{className:"nanosplash-container",attributes:[{key:"data-splash-animation",value:this.l.o}]});return t.style.backgroundColor=this.l.u,t}static v(){const t=i("img",{className:"nanosplash-img",attributes:[{key:"src",value:this.l.p},{key:"alt",value:"Nanosplash indicator"}]});return e(t,!1),t}static m(){return i("div",{className:"nanosplash-text",content:this.l.T})}}r.l={g:document.body,T:"Loading ...",S:'"Arial", sans-serif',N:"medium",O:"#555",_:"26px",p:"favicon.svg",A:"100px",k:"auto",o:"pulse",u:"rgba(255, 255, 255, 0.90)",H:"light"};class u{constructor(t){this.cache={C:""},this.I=r.l.T,this.L=r.l.g,this.D=r.h(),this.B=r.v(),this.R=r.m(),n(this.B).to(this.D),n(this.R).to(this.D),n(this.D).to(this.L,!0),e(this.D,!1),h(this.D),this.X(),t&&this.configure(t)}install(){var t,s,i;Object.defineProperty(window,"loading",{value:this,writable:!1}),t=window,s=()=>h(this.D),i=["resize","scroll"],(([t,e])=>{i.forEach((i=>{t?t(`on${i}`,s):e(i,s,!0)}))})([t.attachEvent,t.addEventListener])}configure(t){var s,i,n,h,o,l,a,r,c,d,v,p;return(null==(s=null==t?void 0:t.default)?void 0:s.destination)&&(this.L=u.F(t.default.destination)),this.I||(this.I=null==(i=t.default)?void 0:i.text),(null==(n=t.text)?void 0:n.family)&&this.P(t.text.family),(null==(h=t.text)?void 0:h.weight)&&this.W(t.text.weight),(null==(o=t.text)?void 0:o.color)&&this.G(t.text.color),(null==(l=t.text)?void 0:l.size)&&this.M(t.text.size),(null==(a=t.background)?void 0:a.color)&&this.U(t.background.color),(null==(r=t.background)?void 0:r.blur)&&this.j(t.background.blur),t.K?((null==(c=t.K)?void 0:c.src)&&this.Y(t.K.src),(null==(d=t.K)?void 0:d.width)&&this.Z(t.K.width),(null==(v=t.K)?void 0:v.height)&&this.$(t.K.height),(null==(p=t.K)?void 0:p.animation)&&this.q(t.K.animation)):e(this.B,!1),this}show(t){this.J(null!=t?t:r.l.T),e(this.D,!0);const s=this.D.parentNode;s&&s!==document.body&&h(this.D);const i=async t=>{await t,this.hide()};return{inside:t=>{const s=u.F(t);return n(this.D).to(s,!0),this.cache.C=s.style.position,h(this.D),{during:i}},during:i}}hide(){const t=this.D.parentElement;o(t,"position",this.cache.C),e(this.D,!1),this.J(this.I),n(this.D).to(this.L,!0),h(this.D)}X(){this.P(r.l.S),this.W(r.l.N),this.G(r.l.O),this.M(r.l._),this.Y(r.l.p),this.Z(r.l.A),this.$(r.l.k),this.q(r.l.o),this.U(r.l.u),this.j(r.l.H)}J(t){this.R.innerText=t}P(t){o(this.R,"fontFamily",t)}W(t){o(this.R,"fontWeight",t)}G(t){o(this.R,"color",t)}M(t){o(this.R,"fontSize",t)}Y(t){this.B.src=t,e(this.B,!0)}Z(t){o(this.B,"width",t)}$(t){o(this.B,"height",t)}q(t){l(this.D,"data-splash-animation",t)}U(t){o(this.D,"backgroundColor",t)}j(t){l(this.D,"data-blur",t)}static F(t){const i="string"==typeof t,e=(n=t)&&"[object Function]"==={}.toString.call(n);var n;const h=(t=>t instanceof Element||t instanceof Node)(t);let o;if(i)l=t,o=document.querySelector(l);else if(e)o=t();else{if(!h)throw new s;o=t}var l;return o}}exports.Nanosplash=u;
