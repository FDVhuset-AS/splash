(()=>{(function(){"use strict";const w=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(e){if(e.ep)return;e.ep=!0;const i=n(e);fetch(e.href,i)}};class D extends Error{constructor(t){super(t)}getName(){return this.constructor.name}}class y extends D{constructor(t){super(t)}}const O=s=>document.querySelector(s),p=(s,t)=>{var l;const n=document.createElement(s);return t&&(n.id||(n.id=t.id+""),n.className||(n.className=t.className+""),(l=t.attributes)==null||l.filter(e=>e.value).forEach(({key:e,value:i})=>d(n,e,i)),t.content&&(typeof t.content=="string"?n.innerText=t.content:n.append(t.content))),n},h=(s,t)=>{s.hidden=!t,t?b(s,"hidden"):d(s,"hidden","true")},u=s=>({to:(t,n)=>{const l=Array.from(t.childNodes);if(l.length<1||!n){t.appendChild(s);return}const i=l[0];t.insertBefore(s,i)}}),E=s=>{const t=s.parentNode;t&&(n=>{t.style.position="relative";const l="px",e=t===document.body;let i,o,c,m;e?i=scrollX+l:i=0+l,e?o=scrollY+l:o=0+l,e?c="100%":c=n.width+l,e?m="100vh":m=n.height+l,r(t,"position","relative"),r(s,"left",i),r(s,"top",o),r(s,"width",c),r(s,"height",m)})(t.getBoundingClientRect())},N=(s,t,n)=>(([l,e])=>{n.forEach(i=>{l?l(`on${i}`,t):e(i,t,!0)})})([s.attachEvent,s.addEventListener]),F=s=>s instanceof Element||s instanceof Node,U=s=>s&&{}.toString.call(s)==="[object Function]",r=(s,t,n)=>{s.style[t]=n},d=(s,t,n)=>{s.setAttribute(t,n)},b=(s,t)=>{s.removeAttribute(t)};class a{static makeMainElement(){const t=p("div",{className:"nanosplash-container",attributes:[{key:"data-splash-animation",value:this.DEFAULT.SPLASH_ANIMATION}]});return t.style.backgroundColor=this.DEFAULT.BACKGROUND_COLOR,t}static makeSplashElement(){const t=p("img",{className:"nanosplash-img",attributes:[{key:"src",value:this.DEFAULT.SPLASH_SOURCE},{key:"alt",value:"Nanosplash indicator"}]});return h(t,!1),t}static makeTextElement(){return p("div",{className:"nanosplash-text",content:this.DEFAULT.TEXT})}}a.DEFAULT={DESTINATION_NODE:document.body,TEXT:"Loading ...",TEXT_FONT:'"Arial", sans-serif',TEXT_WEIGHT:"medium",TEXT_COLOR:"#555",TEXT_SIZE:"26px",SPLASH_SOURCE:"favicon.svg",SPLASH_WIDTH:"100px",SPLASH_HEIGHT:"auto",SPLASH_ANIMATION:"pulse",BACKGROUND_COLOR:"rgba(255, 255, 255, 0.90)",BACKGROUND_BLUR:"light"};var C="";class T{constructor(t){this.cache={parentPosition:""},this.defaultText=a.DEFAULT.TEXT,this.defaultDestination=a.DEFAULT.DESTINATION_NODE,this.mainElement=a.makeMainElement(),this.splashElement=a.makeSplashElement(),this.textElement=a.makeTextElement(),u(this.splashElement).to(this.mainElement),u(this.textElement).to(this.mainElement),u(this.mainElement).to(this.defaultDestination,!0),h(this.mainElement,!1),E(this.mainElement),this.setDefaultStyles(),t&&this.configure(t)}install(){Object.defineProperty(window,"loading",{value:this,writable:!1}),N(window,()=>E(this.mainElement),["resize","scroll"])}configure(t){var n,l,e,i,o,c,m,f,S,A,x,L;return((n=t==null?void 0:t.default)==null?void 0:n.destination)&&(this.defaultDestination=T.getDestinationElement(t.default.destination)),this.defaultText||(this.defaultText=(l=t.default)==null?void 0:l.text),((e=t.text)==null?void 0:e.family)&&this.setTextFontFamily(t.text.family),((i=t.text)==null?void 0:i.weight)&&this.setTextWeight(t.text.weight),((o=t.text)==null?void 0:o.color)&&this.setTextColor(t.text.color),((c=t.text)==null?void 0:c.size)&&this.setTextSize(t.text.size),((m=t.background)==null?void 0:m.color)&&this.setBackgroundColor(t.background.color),((f=t.background)==null?void 0:f.blur)&&this.setBackgroundBlur(t.background.blur),t.splash?(((S=t.splash)==null?void 0:S.src)&&this.setSplashSource(t.splash.src),((A=t.splash)==null?void 0:A.width)&&this.setSplashWidth(t.splash.width),((x=t.splash)==null?void 0:x.height)&&this.setSplashHeight(t.splash.height),((L=t.splash)==null?void 0:L.animation)&&this.setSplashAnimation(t.splash.animation)):h(this.splashElement,!1),this}show(t){this.setText(t!=null?t:a.DEFAULT.TEXT),h(this.mainElement,!0);const n=this.mainElement.parentNode;n&&n!==document.body&&E(this.mainElement);const l=async e=>{await e,this.hide()};return{inside:e=>{const i=T.getDestinationElement(e);return u(this.mainElement).to(i,!0),this.cache.parentPosition=i.style.position,E(this.mainElement),{during:l}},during:l}}hide(){const t=this.mainElement.parentElement;r(t,"position",this.cache.parentPosition),h(this.mainElement,!1),this.setText(this.defaultText),u(this.mainElement).to(this.defaultDestination,!0),E(this.mainElement)}setDefaultStyles(){this.setTextFontFamily(a.DEFAULT.TEXT_FONT),this.setTextWeight(a.DEFAULT.TEXT_WEIGHT),this.setTextColor(a.DEFAULT.TEXT_COLOR),this.setTextSize(a.DEFAULT.TEXT_SIZE),this.setSplashSource(a.DEFAULT.SPLASH_SOURCE),this.setSplashWidth(a.DEFAULT.SPLASH_WIDTH),this.setSplashHeight(a.DEFAULT.SPLASH_HEIGHT),this.setSplashAnimation(a.DEFAULT.SPLASH_ANIMATION),this.setBackgroundColor(a.DEFAULT.BACKGROUND_COLOR),this.setBackgroundBlur(a.DEFAULT.BACKGROUND_BLUR)}setText(t){this.textElement.innerText=t}setTextFontFamily(t){r(this.textElement,"fontFamily",t)}setTextWeight(t){r(this.textElement,"fontWeight",t)}setTextColor(t){r(this.textElement,"color",t)}setTextSize(t){r(this.textElement,"fontSize",t)}setSplashSource(t){this.splashElement.src=t,h(this.splashElement,!0)}setSplashWidth(t){r(this.splashElement,"width",t)}setSplashHeight(t){r(this.splashElement,"height",t)}setSplashAnimation(t){d(this.mainElement,"data-splash-animation",t)}setBackgroundColor(t){r(this.mainElement,"backgroundColor",t)}setBackgroundBlur(t){d(this.mainElement,"data-blur",t)}static getDestinationElement(t){const n=typeof t=="string",l=U(t),e=F(t);let i;if(n)i=O(t);else if(l)i=t();else if(e)i=t;else throw new y;return i}}window&&window instanceof Window&&new T().install()})();})();
