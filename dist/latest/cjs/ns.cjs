"use strict";var m=Object.defineProperty;var S=(t,e,n)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var r=(t,e,n)=>(S(t,typeof e!="symbol"?e+"":e,n),n);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const v="3.0.1";var a=(t=>(t.Add="add",t.Remove="remove",t))(a||{});const d=class d{constructor(){r(this,"id");r(this,"element");this.element=N(),this.element.id=this.id=d.generateGUID()}static generateGUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}getNSContentElement(){return this.getNSElement().firstElementChild}getNSTextElement(){return this.getNSContentElement().firstElementChild}getId(){return this.id}getNSElement(){return this.element}setText(e){return this.getNSTextElement().innerText=e,e.length>0?this.showText():this.hideText(),this}showText(){return I(this.getNSTextElement()),this}hideText(){return y(this.getNSTextElement()),this}remove(){var e;return this.element&&((e=this.element.parentElement)==null||e.removeChild(this.element),delete this.element),this}};r(d,"NSClass","ns"),r(d,"NSHostClass","nsh");let l=d;function N(){return new DOMParser().parseFromString('<div class=ns><div class=nsc><div class=nst></div><div class=nss><svg viewBox="0 0 50 50"><circle class=path cx=25 cy=25 r=20 fill=none></circle></svg></div></div></div>',"text/html").body.firstChild}function w(t,e){e.children.length>0?e.insertBefore(t,e.children.item(0)):e.append(t)}function h(t,e){t==null||t.classList[e](l.NSHostClass)}function E(t){h(t.getNSElement().parentElement,a.Remove)}function I(t){t.style.display="flex"}function y(t){t.style.display="none"}function u(t){return t instanceof Element?t:document.querySelector(t||"")}function C(t){var e;return((e=t==null?void 0:t.classList)==null?void 0:e.contains(l.NSClass))??!1}function x(t,e){h(t.parentElement,a.Remove),h(e,a.Add),w(t,e)}function f(t){const e=t.firstElementChild;if(e!==null&&C(e)){const c=e.id;return o.getInstance().nsStack.find(g=>g.getId()===c)??null}return null}const s=class s{constructor(){r(this,"version");r(this,"nsStack");this.version=v,this.nsStack=[]}findIndex(e){return this.nsStack.findIndex(e)}find(e){return this.nsStack.find(e)}static getInstance(){return s.instance||(s.instance=new s),s.instance}static assignToWindow(){Object.defineProperty(window,s.WindowAccessorKey,{value:s.getInstance(),writable:!1})}static start(){s.assignToWindow(),window.addEventListener("load",()=>{window[s.WindowAccessorKey]instanceof s||s.assignToWindow()})}createNS(e){const n=new l;return n.setText(e||""),this.nsStack.push(n),n}cleanAndRemove(e){return E(e),e.remove().getId()}stackDelete(e){let n=this.findIndex(i=>i.getId()===e.getId());return n<0?null:(this.nsStack.splice(n,1),e.getId())}deleteNS(e){const n=this.find(e);return n?(this.cleanAndRemove(n),this.stackDelete(n)):null}show(e){let n=f(document.body);return n||(n=this.createNS(),x(n.getNSElement(),document.body)),n.setText(e||"").getId()}showInside(e,n){const i=u(e);if(i){let c=f(i);return c||(c=this.createNS()),x(c.getNSElement(),i),c.setText(n||"").getId()}return null}hide(){const e=this.nsStack.pop();return e?this.cleanAndRemove(e):null}hideAll(){this.nsStack.forEach(this.cleanAndRemove),this.nsStack.splice(0,this.nsStack.length)}hideId(e){return this.deleteNS(n=>n.getId()===e)}hideInside(e){const n=u(e),i=c=>c.getNSElement().parentElement===n;return n?this.deleteNS(i):null}};r(s,"WindowAccessorKey","ns"),r(s,"instance");let o=s;const T={Service:o};exports.Service=o;exports.default=T;
