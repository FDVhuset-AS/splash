class t extends Error{constructor(t){super(t)}t(){return this.constructor.name}}class s extends t{constructor(t){super(t)}}const i=(t,s)=>{var i;const e=document.createElement(t);return s&&(e.id||(e.id=s.id+""),e.className||(e.className=s.className+""),null==(i=s.attributes)||i.filter((t=>t.value)).forEach((({key:t,value:s})=>e.setAttribute(t,s))),s.content&&("string"==typeof s.content?e.innerText=s.content:e.append(s.content))),e},e=(t,s)=>{s?(t=>{t.hidden=!1,t.removeAttribute("hidden")})(t):(t=>{t.hidden=!0,t.setAttribute("hidden","true")})(t)},n=(t,s)=>{const i=Array.from(t.childNodes);if(i.length<1)return void t.appendChild(s);const e=i[0];t.insertBefore(s,e)},h=t=>{const s=t.parentNode;s&&(i=>{let e,n;s===document.body?(e=window.pageYOffset+"px",n="100vh"):(e=i.y+window.pageYOffset+"px",n=i.height+"px"),t.style.top=e,t.style.left=i.x+window.pageXOffset+"px",t.style.width=i.width+"px",t.style.height=n})(s.getBoundingClientRect())},o=(t,s,i)=>{t.style[s]=i},l=(t,s,i)=>{t.setAttribute(s,i)};class a{static i(){const t=i("div",{className:"nanosplash-container",attributes:[{key:"data-splash-animation",value:this.o.h}]});return t.style.backgroundColor=this.o.l,t}static u(){const t=i("img",{className:"nanosplash-img",attributes:[{key:"src",value:this.o.v},{key:"alt",value:"NanoSplash indicator"}]});return e(t,!1),t}static m(){return i("div",{className:"nanosplash-text",content:this.o.p})}}a.o={T:document.body,p:"Loading ...",S:'"Arial", sans-serif',g:"medium",N:"#555",A:"26px",v:"favicon.svg",O:"100px",_:"auto",h:"pulse",l:"rgba(255, 255, 255, 0.90)",k:"light"};class r{constructor(t){this.H=a.o.p,this.I=a.o.T,this.L=a.i(),this.C=a.u(),this.D=a.m(),this.L.append(this.C,this.D),n(this.I,this.L),e(this.L,!1),h(this.L),this.B(),t&&this.configure(t)}install(){Object.defineProperty(window,"loading",{value:this,writable:!1}),(t=>{const s=()=>h(t);(([t,i])=>{t?t("onresize",s):i&&i("resize",s,!0),i("scroll",s,!0)})([window.attachEvent,window.addEventListener])})(this.L)}configure(t){var s,i,n,h,o,l,a,u,c,d,v,m;return(null==(s=null==t?void 0:t.default)?void 0:s.destination)&&(this.I=r.R(t.default.destination)),this.H||(this.H=null==(i=t.default)?void 0:i.text),(null==(n=t.text)?void 0:n.family)&&this.F(t.text.family),(null==(h=t.text)?void 0:h.weight)&&this.W(t.text.weight),(null==(o=t.text)?void 0:o.color)&&this.X(t.text.color),(null==(l=t.text)?void 0:l.size)&&this.G(t.text.size),(null==(a=t.background)?void 0:a.color)&&this.P(t.background.color),(null==(u=t.background)?void 0:u.blur)&&this.U(t.background.blur),t.j?((null==(c=t.j)?void 0:c.src)&&this.K(t.j.src),(null==(d=t.j)?void 0:d.width)&&this.M(t.j.width),(null==(v=t.j)?void 0:v.height)&&this.Z(t.j.height),(null==(m=t.j)?void 0:m.animation)&&this.q(t.j.animation)):e(this.C,!1),this}show(t){this.J(null!=t?t:a.o.p),e(this.L,!0);const s=this.L.parentNode;return s&&s!==document.body&&h(this.L),{inside:t=>this.moveTo(t)}}hide(){e(this.L,!1),this.J(this.H),this.moveTo(this.I)}B(){this.F(a.o.S),this.W(a.o.g),this.X(a.o.N),this.G(a.o.A),this.K(a.o.v),this.M(a.o.O),this.Z(a.o._),this.q(a.o.h),this.P(a.o.l),this.U(a.o.k)}moveTo(t){const s=r.R(t);var i;this.L.parentNode?(i=this.L,{to:t=>{var s;null==(s=i.parentNode)||s.removeChild(i),n(t,i)}}).to(s):n(s,this.L),h(this.L)}J(t){this.D.innerText=t}F(t){o(this.D,"fontFamily",t)}W(t){o(this.D,"fontWeight",t)}X(t){o(this.D,"color",t)}G(t){o(this.D,"fontSize",t)}K(t){this.C.src=t,e(this.C,!0)}M(t){o(this.C,"width",t)}Z(t){o(this.C,"height",t)}q(t){l(this.L,"data-splash-animation",t)}P(t){o(this.L,"background-color",t)}U(t){l(this.L,"data-blur",t)}static R(t){const i="string"==typeof t,e=(n=t)&&"[object Function]"==={}.toString.call(n);var n;const h=(t=>t instanceof Element||t instanceof Node)(t);let o=null;if(i)l=t,o=document.querySelector(l);else if(e)o=t();else{if(!h)throw new s;o=t}var l;return o}}export{r as NanoSplash};
